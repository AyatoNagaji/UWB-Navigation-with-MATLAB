## ※実行する場合、main_envelope.mを実行してください。それ以外のファイルは関数ファイルです。(関数ファイルをmain_envelope.mと同じフォルダ内に入れて実行してください)
<br>
各ファイルの内容について簡単に説明します。
<br>

## MYTOA.ｍ
TOA (Time Of Alival) 方式と呼ばれる測位手法を実行する関数ファイルです。  

３つのセンサの座標、各センサと端末間の電波到来時間を入力すると、端末の推定座標を返します。

TOA方式は、まず、３つのセンサそれぞれが端末との距離を測定します（測距）。次にその距離を半径として、センサを中心とした円を3つ作ります。正しく測距できていれば、３つの円の交点が端末の位置となります。  
<br>

## MYawgn.m
白色ガウス雑音を付加し、受信信号平均を取る関数ファイルです。  

受信信号、SN比、受信回数を入力すると、白色ガウス雑音を付加し、受信回数分の平均を取った信号が出力されます。

電波の受信信号には雑音が必ず混入します。熱雑音等による雑音は、通常、白色ガウス雑音を用いて表現します。平均が０の分布となるので、複数回受信し、平均を取ることで白色ガウス雑音の影響を低減します。SN比は受信信号に対する雑音の度合いを表します。
<br>

## MYchannelmodel.m
チャネルモデルを出力する関数ファイルで、IEEE.802.15.4a のチャネルモデルです。詳しくは[こちら](https://www.ieee802.org/15/pub/04/15-04-0662-02-004a-channel-model-final-report-r1.pdf)。

生成したいチャネルナンバーを入力すると、チャネルナンバーによって想定される環境が指定され、その環境のチャネルモデルを出力します。

そもそもチャネル応答とは伝搬路の状態を表すもので、環境によって逐一変化します。そのため、ある環境下に限定することでチャネル応答を推定したものがチャネルモデルです。
送信信号とチャネルモデルを畳み込み、白色ガウス雑音を付加することで受信信号が表されます。

※ uwb_sv_cnvrt_ct_15_4a.m , uwb_sv_freq_depend_ct_15_4a.m , uwb_sv_model_ct_15_4a.m , uwb_sv_params_15_4a.m は、この MYchannelmodel.m のための関数ファイルで、チャネルモデルに関するパラメーターを決定する関数ファイルです。以降での説明は省きます。
<br>

## MYpulse_route2.m
端末が移動するルートを出力する関数ファイルです。入力はありません。

時速５kmで正方形のルートを移動した場合のプロットです。
<br>

## MYuwb_pulse2.m
UWBパルス（ガウシアンパルス）を出力する関数ファイルです。

パルスの中心（時間）、移動ルートのプロット数を入力すると、任意の中心を持ったパルスがプロット数分出力されます。
<br>

## MYtimeerror2.m
チャネルナンバー、SN比、パルスの中心（時間）、移動ルートのプロット数を入力すると、センサと端末間の電波到来時間の誤差を出力します。

出力された時間誤差に光速をかけることで、測距誤差を求めることが出来ます。
<br>

## main_envelope.m
このプログラムを実行することで、上記の関数ファイルを利用し、測位ナビゲーションの結果を出力します。

[論文](https://www.ieice.org/tokyo/gakusei/activity/kenkyuu-happyoukai/happyou-ronbun/27/pdf/41.pdf)通り、包絡線を用いる事で測位精度が向上した結果が得られます。
